/* ===== Moved from began.js (formerly #myDataStyles) ===== */
#myDataContent.modal-content{
  z-index: 2000;
        width: min(960px, 92vw);
        height: min(560px, 78vh);
        padding: 18px 22px;
        border-radius: 18px;
        background: radial-gradient(1200px 600px at 70% -20%, rgba(255,255,255,0.15) 0%, transparent 60%),
                    linear-gradient(180deg, #6f49b0 0%, #7a52b7 30%, #8b5cc0 60%, #e7a07d 100%);
        box-shadow: 0 25px 55px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.15);
        overflow: hidden;
      }
      .md-grid { position:relative; width:100%; height:100%; display:grid; grid-template-columns: repeat(3, 1fr); column-gap: 24px; }
      .md-left { display:flex; flex-direction:column; align-items:flex-start; }
      .md-chart { width: calc(var(--chartSize, 280px) / 2); height: calc(var(--chartSize, 280px) / 2); object-fit: contain; border-radius: 12px;
                  background:#f3f4f6; border:1px solid rgba(0,0,0,.12); box-shadow: 0 10px 22px rgba(0,0,0,.18), inset 0 0 0 1px rgba(255,255,255,.35); }
      .md-form { width: calc(var(--chartSize, 280px) / 2); margin-top: 8px; display:flex; flex-direction:column; gap: 6px; color:#2e165c; }
      .md-form .title { font-weight: 400; color:#fff; text-shadow: 0 1px 0 rgba(0,0,0,.25); margin-bottom: 0; }
      .md-row { display:flex; align-items:center; gap: 2px; } /* минимално разстояние */
      .md-row label { min-width: 36px; margin-right: 2px; display:flex; align-items:center; gap: 4px; color:#fff; font-weight: 400; }
      .md-row input[type="date"], .md-row input[type="time"], .md-row input[type="text"] {
        flex:1; padding:.35rem .5rem; border-radius: 10px; border:1px solid rgba(0,0,0,.18); background:#fff; box-shadow: 0 6px 14px rgba(0,0,0,.10); font-weight:600;
      }
      .md-row #mdCity{ flex:0 0 60%; max-width:60%; } /* по-късо поле град */
      .md-row .md-search { padding:.35rem .65rem; border-radius: 10px; border:2px solid #fff; background:#ffffffdd; color:#4c1d95; font-weight:900; cursor:pointer; }
      .md-row .md-search:hover { background:#fff; }
      .md-save { margin-top: 4px; align-self:flex-start; padding:.45rem .85rem; border-radius: 10px; border:2px solid #fff; background:#ffffffdd; color:#7c3aed; font-weight: 900; cursor:pointer; box-shadow: 0 6px 14px rgba(124,58,237,.18); }
      .md-save:hover { background:#fff; }
      .md-right { overflow:auto; }
      .md-cols { columns: 2 280px; column-gap: 24px; height:100%; padding-right: 6px; }
      .md-cols p { break-inside: avoid; margin:0 0 1rem; color:#f1e9ff; font-weight:600; line-height: 1.35; text-shadow: 0 1px 0 rgba(0,0,0,.15); }

/* ===== Styles moved from inline attribute ===== */
#qCityResults{ display:none; width:auto; max-width:100%; margin-top:10px; box-sizing:border-box; }

:root {
      --violet: #4c1d95;
      --violet2: #7c3aed;
      --ink: #0f172a;
    }

    * {
      box-sizing: border-box;
    }

    body {
      min-height: 100dvh;
      background: url("images/backgroud.png") center/cover no-repeat fixed;
      overflow: hidden;
    }

    .profile-header {
      position: fixed;
      top: max(16px, env(safe-area-inset-top));
      right: max(16px, env(safe-area-inset-right));
      z-index: 10;
      display: flex;
      align-items: center;
      gap: .5rem;
    }

    .avatar {
      width: 64px;
      height: 64px;
      border-radius: 50%;
      background-size: cover;
      background-position: center;
      border: 3px solid #fff;
      box-shadow: 0 6px 18px rgba(0, 0, 0, .25);
    }

    /* Modal */
    .modal {
      background: transparent !important;
    }

    .modal .modal-content {
      position: relative;
      width: min(940px, 92vw);
      height: min(680px, 82vh);
      margin: 8vh auto 0;
      background: linear-gradient(180deg, rgba(235, 221, 255, .70), rgba(176, 141, 253, .70));
      border: 2px solid rgba(91, 33, 182, .5);
      box-shadow: 0 18px 46px rgba(91, 33, 182, .25), 0 8px 22px rgba(0, 0, 0, .30);
      border-radius: 20px;
      padding: 24px 24px 76px;
      overflow: visible;
      /* позволяваме преливане на dropdown */
    }

    .welcome-title {
      color: var(--violet);
      font-weight: 900;
      margin: .25rem 0 .25rem;
    }

    .welcome-text {
      color: #35186e;
      font-weight: 600;
      line-height: 1.45;
      margin: .25rem 0 .75rem;
    }

    .choice-row {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-top: .5rem;
    }

    .circle-btn {
      width: 64px;
      height: 64px;
      border-radius: 999px;
      border: 2px solid #fff;
      display: grid;
      place-items: center;
      font-size: 1.6rem;
      font-weight: 900;
      cursor: pointer;
      color: #fff;
      box-shadow: 0 12px 28px rgba(124, 58, 237, .35);
      transition: transform .18s, box-shadow .18s, filter .18s;
      background: linear-gradient(135deg, #f3ecff, #7c3aed);
    }

    .circle-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 16px 36px rgba(124, 58, 237, .45);
    }

    .btn-no {
      background: linear-gradient(135deg, #ffd1e6, #ec4899);
    }

    .btn-yes {
      background: linear-gradient(135deg, #d8b4fe, #7c3aed);
    }

    /* Wizard */
    .wizard {
      position: absolute;
      inset: 0;
      padding: 24px;
      display: flex;
      flex-direction: column;
      gap: 18px;
    }

    .wizard-header {
      text-align: center;
      color: var(--violet);
      font-weight: 900;
      font-size: clamp(1.6rem, 3.6vw, 2.4rem);
      text-shadow: 0 2px 0 #fff;
    }

    .wizard-step {
      flex: 1;
      display: none;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      gap: 18px;
    }

    .wizard-step.active {
      display: flex;
      animation: fadeIn .22s ease;
    }

    .wizard-field {
      width: min(520px, 90%);
    }

    .wizard-field input[type="date"],
    .wizard-field input[type="time"],
    .wizard-field input[type="text"] {
      width: 100%;
      padding: .95rem 1.1rem;
      font-size: 1.1rem;
      border-radius: 16px;
      border: 2px solid #cbd5e1;
      background: #fff;
      box-shadow: 0 10px 28px rgba(0, 0, 0, .18);
    }

    .wizard-checkbox {
      display: flex;
      align-items: center;
      gap: .6rem;
      font-weight: 700;
      color: #35186e;
    }

    .wizard-actions {
      position: absolute;
      left: 0;
      right: 0;
      bottom: 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 18px;
    }

    .nav-btn {
      width: 72px;
      height: 72px;
      border: none;
      background: transparent;
      cursor: pointer;
      display: grid;
      place-items: center;
      border-radius: 999px;
      transition: transform .15s ease, filter .15s ease;
    }

    .nav-btn img {
      width: 100%;
      height: 100%;
      display: block;
    }

    .nav-back:hover {
      filter: drop-shadow(0 0 18px rgba(239, 68, 68, .85));
      transform: rotate(-6deg) scale(1.06);
    }

    .nav-next:hover {
      filter: drop-shadow(0 0 18px rgba(74, 222, 128, .85));
      transform: rotate(6deg) scale(1.06);
    }

    .nav-btn[disabled] {
      opacity: .35;
      pointer-events: none;
    }

    .nav-btn.spin img {
      animation: spin .5s linear;
    }

    .search-row {
      position: relative;
      display: flex;
      gap: .5rem;
      width: min(560px, 92%);
    }

    .search-row input {
      flex: 1;
    }

    .search-btn {
      padding: .85rem 1.2rem;
      border-radius: 14px;
      border: 2px solid var(--violet);
      color: var(--violet);
      font-weight: 800;
      background: #fff;
      cursor: pointer;
    }

    .search-btn:disabled {
      opacity: .5;
      pointer-events: none;
    }

    /* Custom dropdown („прелива“ извън реда) */
    .dropdown {
      width: min(560px, 92%);
      margin-top: .5rem;
      position: relative;
      z-index: 50;
    }

    .dropdown-toggle {
      width: 100%;
      padding: .95rem 1.1rem;
      border-radius: 16px;
      border: 2px solid #1f2937;
      background: var(--ink);
      color: #e5e7eb;
      font-weight: 700;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
    }

    .chev {
      transition: transform .2s ease;
    }

    .dropdown.open .chev {
      transform: rotate(180deg);
    }

    .dropdown-menu {
      position: absolute;
      left: 0;
      right: 0;
      margin-top: .4rem;
      background: #0b1224;
      color: #e5e7eb;
      border: 2px solid #1f2937;
      border-radius: 16px;
      max-height: 260px;
      overflow: auto;
      display: none;
      box-shadow: 0 18px 40px rgba(0, 0, 0, .35);
      transform: translateY(0);
      /* излиза надолу */
    }

    .dropdown.open .dropdown-menu {
      display: block;
    }

    /* Open upwards variant */
    .dropdown.up .dropdown-menu{
      top: auto;
      bottom: calc(100% + .4rem);
      margin-top: 0;
    }

    .dropdown-item {
      padding: .75rem 1rem;
      cursor: pointer;
      outline: none;
    }

    .dropdown-item:hover,
    .dropdown-item.active {
      background: #111a33;
    }

    .finish-btn {
      display: flex;
      align-items: center;
      gap: .6rem;
      padding: .7rem 1rem;
      border-radius: 14px;
      border: 2px solid var(--violet2);
      background: #fff;
      color: #7c3aed;
      font-weight: 900;
      letter-spacing: .02em;
      box-shadow: 0 10px 24px rgba(124, 58, 237, .25);
      opacity: 0;
      pointer-events: none;
      transform: translateY(6px);
      transition: opacity .2s ease, transform .2s ease, filter .2s ease;
    }

    .finish-btn img {
      width: 32px;
      height: 32px;
    }

    .finish-btn.show {
      opacity: 1;
      transform: none;
      pointer-events: auto;
    }

    .finish-btn.spin img {
      animation: spin .5s linear;
    }

    .finish-btn:hover {
      filter: drop-shadow(0 0 18px rgba(74, 222, 128, .85));
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(6px);
      }

      to {
        opacity: 1;
        transform: none;
      }
    }

    @keyframes spin {
      from {
        transform: rotate(0);
      }

      to {
        transform: rotate(360deg);
      }
    }

    @keyframes shakeX {

      10%,
      90% {
        transform: translateX(-1px);
      }

      20%,
      80% {
        transform: translateX(2px);
      }

      30%,
      50%,
      70% {
        transform: translateX(-4px);
      }

      40%,
      60% {
        transform: translateX(4px);
      }
    }

    /* === Custom additions === */
    #wizard .wizard-field #placeInput,
    #placeInput {
      border-radius: 20px !important;
      outline: none;
    }

    #placeInput:focus {
      box-shadow: 0 0 0 4px rgba(124, 58, 237, .15);
      border-color: #7c3aed;
    }

    /* Double size Mars & Venus icons */
    .nav-btn img[alt="Напред"],
    .nav-btn img[alt="Назад"] {
      transform: scale(2);
    }

    /* === augment-rounded-input === */
    #wizard .wizard-field #placeInput,
    #placeInput {
      border-radius: 20px !important;
      outline: none;
    }

    #placeInput:focus {
      box-shadow: 0 0 0 4px rgba(124, 58, 237, .15);
      border-color: #7c3aed;
    }

    /* --- Adjust Venus/Mars nav buttons position and offset --- */
    .wizard-actions {
      bottom: 48px !important;
    }

    /* move higher */
    .nav-next {
      transform: translateX(-12px);
    }

    /* Venus slightly to the left */
    .nav-back {
      transform: translateX(12px);
    }

    /* Mars slightly to the right */

    /* --- Bigger DST checkbox and label --- */
    .wizard-step[data-step="dst"] .wizard-checkbox {
      font-size: 1.25rem;
    }

    .wizard-step[data-step="dst"] .wizard-checkbox input[type="checkbox"] {
      transform: scale(1.35);
      width: 1.15em;
      height: 1.15em;
    }

    /* Иконите вътре в кръглите бутони */
    .circle-btn img {
      width: 40px;
      /* нормален размер спрямо 64px бутон */
      height: 40px;
      display: block;
      transition: filter .18s ease;
    }

    /* Светене при hover */
    .btn-no:hover img {
      filter: drop-shadow(0 0 14px rgba(239, 68, 68, .95));
    }

    /* червеникав */
    .btn-yes:hover img {
      filter: drop-shadow(0 0 14px rgba(74, 222, 128, .95));
    }

    /* зеленикав */

    /* Завъртане при натискане (mousedown/active) */
    .circle-btn:active img {
      animation: spin .5s linear;
    }

    /* По желание: малко по-мека сянка на самия бутон при hover */
    .circle-btn:hover {
      box-shadow: 0 16px 36px rgba(124, 58, 237, .45);
      transform: translateY(-2px);
    }

    .navYesNo {
      width: 120px;
    }
  
    /* Dropdown under avatar */
    #profileMenu {
      position: absolute;
      top: calc(100% + 8px);
      right: 0;
      background: #0b1224;
      color: #e5e7eb;
      border: 2px solid #1f2937;
      border-radius: 16px;
      min-width: 240px;
      box-shadow: 0 18px 40px rgba(0,0,0,.35);
      padding: 6px 0;
      visibility: hidden;
      opacity: 0;
      transition: opacity .15s ease, visibility .15s ease;
      z-index: 9999;
    }
    .hidden { display: none !important; }
    #profileMenu ul li { user-select: none; }
    #profilePic { cursor: pointer; }
    
  
/* Avatar dropdown: polished look */
#profileMenu.pmenu {
  position: fixed;
  background: linear-gradient(135deg, rgba(15,23,42,.92), rgba(2,6,23,.92));
  color: #e5e7eb;
  border: 1px solid rgba(148,163,184,.18);
  border-radius: 16px;
  min-width: 260px;
  max-width: min(92vw, 360px);
  box-shadow: 0 24px 60px rgba(0,0,0,.45);
  padding: 8px 0;
  visibility: hidden;
  opacity: 0;
  transform: scale(.985) translateY(-4px);
  transition: opacity .16s ease, transform .16s ease, visibility .16s ease;
  z-index: 10000;
  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);
}
#profileMenu.pmenu.open {
  opacity: 1;
  transform: scale(1) translateY(0);
  visibility: visible;
}
#profileMenu .pmenu-arrow {
  position: absolute;
  top: -8px;
  left: 24px;
  width: 16px;
  height: 16px;
  background: inherit;
  transform: rotate(45deg);
  border-left: 1px solid rgba(148,163,184,.18);
  border-top: 1px solid rgba(148,163,184,.18);
  box-shadow: -4px -4px 10px rgba(0,0,0,.08);
}
#profileMenu .pmenu-list {
  list-style: none;
  padding: 6px 6px;
  margin: 0;
}
#profileMenu .pmenu-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 12px;
  line-height: 1.2;
  cursor: pointer;
  user-select: none;
  outline: none;
}
#profileMenu .pmenu-item:hover,
#profileMenu .pmenu-item:focus {
  background: rgba(99,102,241,.14);
}
#profileMenu .pmenu-item:active {
  transform: translateY(0.5px);
}
#profileMenu .pmenu-item.danger:hover,
#profileMenu .pmenu-item.danger:focus {
  background: rgba(239,68,68,.18);
  color: #fecaca;
}
#profileMenu .pmenu-sep {
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(148,163,184,.28), transparent);
  margin: 6px 8px;
}
#profileMenu .pmenu-label {
  font-size: 14px;
}
#profileMenu .pmenu-ripple {
  position: absolute;
  border-radius: 999px;
  transform: scale(0);
  animation: pmenu-ripple .45s ease forwards;
  background: rgba(255,255,255,.15);
  pointer-events: none;
}
@keyframes pmenu-ripple {
  to { transform: scale(2.6); opacity: 0; }
}
/* Utility */
.rounded-2xl { border-radius: 16px; }
.elevated { box-shadow: 0 24px 60px rgba(0,0,0,.45); }

  
#profileMenu .pmenu-item img {
  width: 18px;
  height: 18px;
  object-fit: contain;
  display: inline-block;
}

  

/* === Profile Menu (themed) === */
#profileMenu.pmenu{
  position: fixed;
  top: 64px; left: 12px;
  min-width: 260px; max-width: 340px;
  background: rgba(255,255,255,.92);
  backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
  border: 2px solid rgba(124,58,237,.25);
  border-radius: 16px;
  box-shadow: 0 18px 46px rgba(124,58,237,.20), 0 8px 22px rgba(0,0,0,.28);
  padding: 8px 0 10px;
  z-index: 999;
  visibility: hidden; opacity: 0; transform: translateY(-6px);
  transition: opacity .18s ease, transform .18s ease, visibility .18s;
}
#profileMenu.pmenu.open{ visibility: visible; opacity: 1; transform: translateY(0); }
#profileMenu .pmenu-arrow{
  position: absolute; top: -9px; left: 26px;
  width: 18px; height: 18px; background: inherit;
  border-top: 2px solid rgba(124,58,237,.25);
  border-left: 2px solid rgba(124,58,237,.25);
  transform: rotate(45deg);
}
#profileMenu .pmenu-list{ list-style: none; margin: 0; padding: 6px 8px; display: grid; gap: 4px; }
#profileMenu .pmenu-sep{ height: 1px; margin: 6px 4px; background: linear-gradient(90deg, transparent, #c4b5fd 30%, #c4b5fd 70%, transparent); }
#profileMenu .pmenu-item{
  display: flex; align-items: center; gap: 10px;
  border-radius: 12px; padding: 10px 12px; cursor: pointer; position: relative; user-select: none;
}
#profileMenu .pmenu-item:hover{ background: rgba(196,181,253,.25); }
#profileMenu .pmenu-item.danger:hover{ background: rgba(254, 202, 202, .45); }
#profileMenu .pmenu-label{ font-weight: 800; color: #35186e; }
#profileMenu .pmenu-item.danger .pmenu-label{ color: #7f1d1d; }
#profileMenu .pmenu-icon{ width: 18px; height: 18px; flex: 0 0 18px; object-fit: contain; opacity: .95; }
#profileMenu .pmenu-ripple{
  position: absolute; border-radius: 999px; background: currentColor; opacity: .15;
  transform: scale(0); pointer-events: none; width: 0; height: 0;
  animation: pmenu-ripple .45s ease-out forwards;
}
@keyframes pmenu-ripple { to { transform: scale(2.2); opacity: 0; } }

/* === Profile Menu Dark Theme Override === */
#profileMenu.pmenu{
  background: rgba(0,0,0,.78) !important;
  border-color: rgba(255,255,255,.14) !important;
  color: #fff !important;
  box-shadow: 0 20px 48px rgba(0,0,0,.5), 0 8px 22px rgba(0,0,0,.35) !important;
}
#profileMenu .pmenu-arrow{
  background: rgba(0,0,0,.78) !important;
  border-top-color: rgba(255,255,255,.14) !important;
  border-left-color: rgba(255,255,255,.14) !important;
}
#profileMenu .pmenu-list, #profileMenu .pmenu-label{ color:#fff !important; }
#profileMenu .pmenu-item:hover{ background: rgba(255,255,255,.08) !important; }
#profileMenu .pmenu-item.danger:hover{ background: rgba(239,68,68,.22) !important; }
#profileMenu .pmenu-sep{
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.25) 30%, rgba(255,255,255,.25) 70%, transparent) !important;
}
#profileMenu .pmenu-icon{ opacity: .95; }

/* Make the title fit on a single line */
#myDataContent #mdForm .title {
  font-size: 0.50rem !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  margin-bottom: 0 !important;
}

/* Smaller labels for дата/час/град */
#myDataContent #mdForm .md-row label,
#myDataContent #mdForm .md-row .md-dst small {
  font-size: 0.55rem !important;
  line-height: 1.1 !important;
}

/* Inputs padding exactly 2px */
#myDataContent #mdForm input[type="date"],
#myDataContent #mdForm input[type="time"],
#myDataContent #mdForm input[type="text"] {
  padding: 2px 2px !important;
  font-size: 0.60rem !important;
  border-radius: 10px !important;
}

/* Shorter city input */
#myDataContent #mdForm #mdCity {
  flex: 0 0 50% !important;
  max-width: 50% !important;
}

/* Smaller padding on buttons */
#myDataContent #mdForm .md-search,
#myDataContent #mdForm .md-save,
.search-row .search-btn {
  padding: 2px 6px !important;
  font-size: 0.60rem !important;
  border-radius: 10px !important;
}

/* Natal chart 2x zoom on double click */
.md-chart {
  transition: transform .18s ease, box-shadow .18s ease;
  transform-origin: center center;
  cursor: zoom-in;
}
.md-chart.zoom2x {
  transform: scale(2);
  cursor: zoom-out;
  z-index: 10000;
  box-shadow: 0 20px 40px rgba(0,0,0,.35);
}
/* Ensure chart can overflow nicely within modal/left pane */
.modal .modal-content,
.md-left {
  overflow: visible !important;
}

/* ===== Stronger overrides to ensure effect ===== */
body #myDataModal #myDataContent .md-form .title,
#myDataModal #myDataContent .md-form .title {
  font-size: 0.50rem !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  margin-bottom: 0 !important;
}

body #myDataModal #myDataContent #mdForm .md-row label,
#myDataModal #myDataContent #mdForm .md-row .md-dst small {
  font-size: 0.55rem !important;
  line-height: 1.1 !important;
}

body #myDataModal #myDataContent #mdForm input[type="date"],
body #myDataModal #myDataContent #mdForm input[type="time"],
body #myDataModal #myDataContent #mdForm input[type="text"] {
  padding: 2px 2px !important;
  font-size: 0.60rem !important;
  border-radius: 10px !important;
}

body #myDataModal #myDataContent #mdForm #mdCity {
  flex: 0 0 50% !important;
  max-width: 50% !important;
}

body #myDataModal #myDataContent #mdForm .md-search,
body #myDataModal #myDataContent #mdForm .md-save,
body #myDataModal .search-row .search-btn {
  padding: 2px 6px !important;
  font-size: 0.60rem !important;
  border-radius: 10px !important;
}

/* dblclick zoom remains the same */
/* === AstroMatch: My Data modal (3 equal columns) === */
.md-grid{ grid-template-columns: repeat(3, 1fr) !important; column-gap: 24px; }

.md-left{
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  gap: 10px;
}
.md-title{ display:none;  color:#fff; text-align:center; font-weight:800; text-shadow:0 1px 0 rgba(0,0,0,.25); }

/* Natal wheel image: 1:1, fills its third */
.md-chart{
  width: 100% !important;
  aspect-ratio: 1 / 1 !important;
  height: auto !important;
  object-fit: contain !important;
  border-radius: 12px;
  background:#f8fafc;
  border:1px solid rgba(0,0,0,.12);
  box-shadow: 0 10px 22px rgba(0,0,0,.18), inset 0 0 0 1px rgba(255,255,255,.35);
}

/* Middle form */
.md-middle{ display:flex; align-items:center; justify-content:center; }
.md-form{
  width: 100%;
  max-width: 520px;
  padding: 12px 14px;
  border-radius: 14px;
  background: rgba(255, 182, 193, 0.25); /* pale pink */
  border: 2px solid rgba(255,255,255,.45);
  backdrop-filter: blur(2px);
}
.md-form.disabled{ opacity:.85;  }
.md-form .md-actions{ display:flex; gap:10px; margin-top: 6px; }
.md-form .md-save{ font-weight:900; }

/* Right column: lorem text in columns */
.md-right{ overflow:auto; }
.md-cols{ columns: 2 280px; column-gap: 24px; height:100%; padding-right: 6px; }
.md-cols p{ break-inside: avoid; margin:0 0 1rem; color:#f1e9ff; font-weight:600; line-height:1.35; text-shadow: 0 1px 0 rgba(0,0,0,.15); }

/* Fancy select-with-arrow (re-usable) */
.select-with-arrow{ position: relative; width: 100%; margin-top: .4rem; }
.select-with-arrow .dropdown-toggle{
  width: 100%; padding: .6rem .8rem; border-radius: 12px;
  display:flex; align-items:center; justify-content:space-between;
  font-weight:700; border:2px solid #1f2937; color:#e5e7eb; background:#0b1224;
}
.select-with-arrow .chev{ transition: transform .2s ease; }
.select-with-arrow.open .chev{ transform: rotate(180deg); }
.select-with-arrow .dropdown-menu{
  position: absolute; left:0; right:0; margin-top:.35rem; display:none;
  background:#0b1224; color:#e5e7eb; border:2px solid #1f2937; border-radius:12px;
  max-height: 260px; overflow:auto; box-shadow:0 18px 40px rgba(0,0,0,.35);
}
.select-with-arrow.open .dropdown-menu{ display:block; }
.select-with-arrow .dropdown-item{
  padding:.5rem .7rem; cursor:pointer;
}
.select-with-arrow .dropdown-item:hover,
.select-with-arrow .dropdown-item.active{
  background: rgba(255,255,255,.06);
}

/* --- Tweaks per request: taller form and bigger labels --- */
.md-form{ min-height: 460px; padding: 18px 18px; }
.md-form .title{ font-size: 1.25rem; font-weight: 800; }
.md-form label{ font-size: 1.05rem; font-weight: 700; letter-spacing: .2px; }
.md-form input, .md-form button{ font-size: 1.05rem; padding: 0.7rem 0.9rem; }
.md-form .md-actions .md-save{ padding: 0.7rem 1.1rem; }

/* ===== Adjustments: center image with form, shorter centered form, larger fonts ===== */
.md-grid{
  align-items: center !important;              /* center all three columns vertically */
  min-height: clamp(520px, 70vh, 860px);       /* ensure enough height to center within modal */
}

.md-left{
  display: flex; flex-direction: column;
  align-items: center; justify-content: center; /* keep the chart vertically centered */
}

/* Chart sizing: keep square, but don't exceed viewport height */
.md-chart{
  width: 100% !important;
  aspect-ratio: 1 / 1 !important;
  max-height: 70vh;               /* avoid overflowing modal height */
  height: auto !important;
  object-fit: contain !important;
}

/* Middle column: perfect centering */
.md-middle{ display:flex; align-items:center; justify-content:center; }

/* Shorter form, centered, bigger type */
.md-form{
  min-height: 340px;               /* shorter than before */
  padding: 20px 22px;
  margin: 0 auto;
}
.md-form .title{ font-size: 1.35rem; font-weight: 900; }
.md-form label{ font-size: 1.18rem; font-weight: 800; letter-spacing: .2px; }
.md-form input, .md-form button{ font-size: 1.18rem; padding: 0.8rem 1rem; }
.md-form .md-actions .md-save{ padding: 0.85rem 1.2rem; font-size: 1.15rem; }

/* Dropdown typography to match */
.select-with-arrow .dropdown-toggle{ font-size: 1.1rem; }
.select-with-arrow .dropdown-item{ font-size: 1.05rem; }

/* ===== FORCE OVERRIDES (higher specificity + !important) ===== */
.modal #myDataContent .md-grid{
  align-items: center !important;
  min-height: calc(60vh + 80px) !important;
}
.modal #myDataContent .md-left{
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
}
.modal #myDataContent .md-chart{
  width: 100% !important;
  aspect-ratio: 1 / 1 !important;
  max-height: 70vh !important;
  height: auto !important;
  object-fit: contain !important;
  transform: translateY(-2%); /* slight nudge up */
}
.modal #myDataContent .md-middle{
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}
.modal #myDataContent .md-form{
  min-height: 320px !important;   /* shorter */
  max-width: 560px !important;
  margin: 0 auto !important;
  padding: 20px 22px !important;
}
.modal #myDataContent .md-form .title{
  font-size: 1.45rem !important;
  font-weight: 900 !important;
}
.modal #myDataContent .md-form label{
  font-size: 1.22rem !important;
  font-weight: 800 !important;
}
.modal #myDataContent .md-form input,
.modal #myDataContent .md-form button{
  font-size: 1.22rem !important;
  padding: 0.85rem 1rem !important;
}
.modal #myDataContent .md-actions .md-save{
  padding: 0.9rem 1.25rem !important;
  font-size: 1.15rem !important;
}
.select-with-arrow .dropdown-toggle{ font-size: 1.12rem !important; }
.select-with-arrow .dropdown-item{ font-size: 1.06rem !important; }

/* ===== FORCE OVERRIDES v2 (shorter form + bigger typography) ===== */
.modal #myDataContent .md-form{ 
  min-height: 260px !important;
  padding: 22px 24px !important;
}
.modal #myDataContent .md-form .title{
  font-size: 1.8rem !important;
  font-weight: 900 !important;
}
.modal #myDataContent .md-form label{
  font-size: 1.35rem !important;
  font-weight: 800 !important;
}
.modal #myDataContent .md-form input,
.modal #myDataContent .md-form button{
  font-size: 1.35rem !important;
  padding: 1rem 1.15rem !important;
}
.modal #myDataContent .md-actions .md-save{
  padding: 1rem 1.3rem !important;
  font-size: 1.3rem !important;
}

/* Match dropdown sizes */
.select-with-arrow .dropdown-toggle{ font-size: 1.25rem !important; }
.select-with-arrow .dropdown-item{ font-size: 1.15rem !important; }

/* === Final My Data form sizes (bigger font, compact controls) === */
html body #myDataModal #myDataContent #mdForm{ font-size: 1.05rem !important; }
html body #myDataModal #myDataContent #mdForm .title{ font-size: 1.35rem !important; font-weight: 800; }
html body #myDataModal #myDataContent #mdForm label,
html body #myDataModal #myDataContent #mdForm small{ font-size: 1.00rem !important; }

/* Smaller fields & buttons (padding) with bigger text */
html body #myDataModal #myDataContent #mdForm input[type="date"],
html body #myDataModal #myDataContent #mdForm input[type="time"],
html body #myDataModal #myDataContent #mdForm input[type="text"]{
  font-size: 1.00rem !important;
  padding: .40rem .60rem !important;
  border-radius: 10px !important;
}
html body #myDataModal #myDataContent #mdForm .md-search,
html body #myDataModal #myDataContent #mdForm .md-save{
  font-size: 1.00rem !important;
  padding: .40rem .60rem !important;
  border-radius: 10px !important;
}

/* Disabled state: keep edit clickable, fields ash-pink */
html body #myDataModal #myDataContent #mdForm.disabled{ pointer-events: auto !important; opacity: 1 !important; }
html body #myDataModal #myDataContent #mdForm.disabled input,
html body #myDataModal #myDataContent #mdForm.disabled .select-with-arrow .dropdown-toggle,
html body #myDataModal #myDataContent #mdForm.disabled button.md-search{
  background: #e7c5cf !important; border-color: #ddb3be !important; color: #3a2f34 !important;
}
html body #myDataModal #myDataContent #mdForm.disabled #mdEdit{ pointer-events: auto !important; }

/* === FINAL: Half-size typography for My Data form === */
html body #myDataModal #myDataContent #mdForm{ font-size: 0.525rem !important; }
html body #myDataModal #myDataContent #mdForm .title{ font-size: 0.675rem !important; font-weight: 800; }
html body #myDataModal #myDataContent #mdForm label,
html body #myDataModal #myDataContent #mdForm small{ font-size: 0.50rem !important; }
html body #myDataModal #myDataContent #mdForm input[type="date"],
html body #myDataModal #myDataContent #mdForm input[type="time"],
html body #myDataModal #myDataContent #mdForm input[type="text"]{
  font-size: 0.50rem !important;
  padding: .20rem .30rem !important;
  border-radius: 6px !important;
}
html body #myDataModal #myDataContent #mdForm .md-search,
html body #myDataModal #myDataContent #mdForm .md-save{
  font-size: 0.50rem !important;
  padding: .20rem .30rem !important;
  border-radius: 6px !important;
}

/* === Geo dropdown sizing tweaks === */
.md-row{ --cityFieldPct: 60%; position: relative; }
.md-row #mdCity{ flex: 0 0 var(--cityFieldPct); max-width: var(--cityFieldPct); }
#mdDropdown{ width: calc(var(--cityFieldPct) + 24px); align-self: flex-start; z-index: 2000; }
#mdDropdown .dropdown-menu{ width: 100%; }

/* Wizard place step: dropdown a bit wider than the city input (button ~120px) */
.wizard-step[data-step="place"] .search-row{ position: relative; }
/* (disabled: width now synced to input via JS) \1 */ /* slightly larger than the text field */
.wizard-step[data-step="place"] .dropdown .dropdown-menu{ width: 100%; }

/* === Requested tweaks (Initial questions form) ===
   1) City input (#placeInput): larger padding on all sides;
   2) City dropdown menu: shorter list (smaller max-height);
*/
.wizard-step[data-step="place"] #placeInput{
  padding: 1.25rem !important;           /* bigger padding everywhere */
}

.wizard-step[data-step="place"] #cityDropdown .dropdown-menu{
  max-height: 160px !important;          /* shorter dropdown list */
}

/* === City dropdown reposition (under the city input) === */
.wizard-step[data-step="place"] .search-row{ position: relative; }
.wizard-step[data-step="place"] #cityDropdown{
  position: absolute;
  left: 0;
  top: calc(100% + .45rem);
  z-index: 2000;
}
/* Make the flyout span the dropdown width (which we sync to the input) */
.wizard-step[data-step="place"] #cityDropdown .dropdown-menu{ width: 100%; }

/* === Small form (myData) city dropdown === */
#qCityDropdown { margin-top: .5rem; }
#qCityDropdown .dropdown-menu { width: 100%; max-height: 200px; overflow: auto; }

/* === Compact sizing for My Data dropdown ===
   Targets only the My Data form:;
   - #mdDropdown (trigger button)
   - #mdCityMenu (flyout list container + items)
   Makes font-size and paddings smaller.
*/
html body #myDataModal #myDataContent #mdDropdown .dropdown-toggle{
  font-size: 0.70rem !important;
  padding: .25rem .40rem !important;
  border-radius: 8px !important;
  line-height: 1.2 !important;
}
html body #myDataModal #myDataContent #mdCityMenu{
  font-size: 0.70rem !important;
  line-height: 1.2 !important;
}
html body #myDataModal #myDataContent #mdCityMenu .dropdown-item{
  font-size: 0.70rem !important;
  padding: .30rem .45rem !important;
  line-height: 1.2 !important;
}

/* === Chart spinner loader (added) === */
.md-chart-wrap{
  position: relative;
  width: 100% !important;
  aspect-ratio: 1 / 1 !important;
  max-height: 70vh;
  height: auto !important;
}
.md-chart-wrap .md-chart,
.md-chart-wrap .md-chart-spinner{
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;
  border-radius: 12px;
}
.md-chart-wrap .md-chart-spinner{
  display: none;
  background: #fff;
  border:1px solid rgba(0,0,0,.08);
  box-shadow: 0 8px 18px rgba(0,0,0,.12);
  z-index: 3;
}
.md-chart-wrap .md-chart{ z-index: 2; }
.md-chart-wrap.loading .md-chart-spinner{ display:block; }
.md-chart-wrap.loading .md-chart{ opacity: 0; }

/* === Placements list (third column) === */
#myDataContent .md-right { padding: 0 2px 0 0; }
#myDataContent .md-placements{
  background: #000;
  color: #fff;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.12);
  padding: 10px 10px;
  max-height: 100%;
  overflow: auto;
  box-shadow: 0 10px 24px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.06);
}
#myDataContent .md-placements-title{
  font-weight: 900;
  font-size: .95rem;
  letter-spacing: .02em;
  margin: 0 0 6px 2px;
  color: #e5e7eb;
}
#myDataContent .md-pl-row{
display: flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  line-height: 1.25;
  padding: 4px 2px;
  opacity: 0;
  transform: scale(.92);
  will-change: transform, opacity;
}
#myDataContent .md-pl-row img{
  width: 18px;
  height: 18px;
  object-fit: contain;
  display: inline-block;
  filter: drop-shadow(0 0 2px rgba(255,255,255,.08));
}
#myDataContent .md-pl-row .md-pl-sep{
  opacity: .85;
  margin: 0 2px;
}
#myDataContent .md-pl-row .md-pl-house{
  display: inline-flex;
  align-items: center;
  gap: 4px;
}
@keyframes mdZoomIn {
  from { opacity: 0; transform: scale(.92); }
  to   { opacity: 1; transform: scale(1); }
}
#myDataContent .md-pl-row.zoom {
  animation: mdZoomIn .28s ease var(--delay, 0s) both;
}

/* === Placements panel: black background, compact rows, zoom animation === */
#myDataContent .md-placements{
  background: #000;
  color: #fff;
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 12px;
  padding: 10px 12px;
  box-shadow: 0 10px 24px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.04);
}
#myDataContent .md-placements-title{
  color: #fff;
  font-weight: 800;
  font-size: 13px;
  letter-spacing: .02em;
  margin-bottom: 6px;
}
#myDataContent .md-placements [role='list']{
  display: flex;
  flex-direction: column;
  gap: 2px;

  gap: 0 !important; row-gap: 0 !important;}
#myDataContent .md-pl-row{ margin:0 !important; padding:0 !important; line-height:1 !important; font-size:11px !important; }
#myDataContent .md-pl-row img,
#myDataContent .md-pl-row video{
  width: 18px;
  height: 18px;
  object-fit: contain;
  display: inline-block;
  vertical-align: -3px;
  border-radius: 4px;
}
#myDataContent .md-pl-sep{ opacity: .9; margin: 0 4px; }
#myDataContent .md-pl-house span{ margin-left: 4px; opacity: .95; }
#myDataContent .md-pl-row.zoom{
  animation: md-zoom-in .36s ease-out both;
  animation-delay: var(--delay, 0s);
}
@keyframes md-zoom-in{
  0%   { opacity: 0; transform: scale(.92); }
  100% { opacity: 1; transform: scale(1);  }
}

/* === Size tweak: slightly smaller planets + font === */
#myDataContent .md-pl-row{ margin:0 !important; padding:0 !important; line-height:1 !important; font-size:11px !important; }
#myDataContent .md-pl-row .md-pl-planet{
  width: 32px !important;
  height: 32px !important;
  vertical-align: -5px;
}

/* === Zero vertical spacing between rows (with slight overlap) === */
#myDataContent .md-placements [role='list']{
  display: flex;
  flex-direction: column;
  gap: 0 !important;            /* без вертикален gap */
  row-gap: 0 !important;

  gap: 0 !important; row-gap: 0 !important;}

#myDataContent .md-pl-row{ margin:0 !important; padding:0 !important; line-height:1 !important; font-size:11px !important; }

/* леко застъпване; ако не искаш застъпване, смени на 0 */
#myDataContent .md-pl-row + .md-pl-row{
margin-top: -10px !important;  /* -1px до -3px според вкуса */
}

/* ==== PATCH: Layout swap + containment & alignment (2025-08-19) ==== */
/* Hide the title "Планети в знаци и домове" */
#myDataContent .md-placements-title{ display:none !important; }
/* Keep planets list's CTA aligned to the right */
#myDataContent .md-placements .md-more{ display:flex !important; justify-content:flex-end !important; }
/* Ensure columns never overflow the big form */
#myDataContent .md-grid > *{ min-width: 0; }
#myDataContent{ overflow: hidden; }
/* When the form lives in the right column after swap, keep it nicely centered and sized */
#myDataContent .md-right{ display:flex; flex-direction:column; align-items:center; gap: 8px; }
#myDataContent .md-right .md-form{ width:100%; max-width:560px; margin: 0 auto; }
#myDataContent .md-middle{ display:flex; align-items:stretch; justify-content:center; }
#myDataContent .md-middle .md-placements{ width:100%; max-width:640px; margin: 0 auto; }
/* Make "Разбери повече" look clickable */
#myDataContent .md-placements .md-more-btn{ cursor: pointer; }

/* ==== PATCH v2: Ensure planets panel is visible in the middle column ==== */
#myDataContent{ overflow: auto; } /* allow modal content to scroll if needed */
#myDataContent .md-middle .md-placements{
  /* when moved to middle, give it a reasonable height */
  max-height: min(72vh, 780px);
}
#myDataContent .md-placements .md-empty{
  opacity:.9;
  font-size:.95rem;
  line-height:1.35;
  padding: 10px 8px 6px;
  border-radius: 10px;
  background: rgba(255,255,255,.06);
  border: 1px dashed rgba(255,255,255,.22);
  margin-top: 8px;
}

/* === Style "Разбери повече" button === */
#myDataContent .md-placements .md-more-btn{
  background: #fff;
  color: #000;
  border: 1px solid rgba(0,0,0,.2);
  border-radius: 14px;
  padding: .6rem 1rem;
  font-weight: 600;
  line-height: 1.2;
  transition: transform .08s ease, box-shadow .2s ease;
}
#myDataContent .md-placements .md-more-btn:hover{
  box-shadow: 0 4px 12px rgba(0,0,0,.12);
}
#myDataContent .md-placements .md-more-btn:active{
  transform: translateY(1px);
}

/* === Close button under My Data form === */
#myDataContent .md-close-wrap{
  display: flex;
  justify-content: center;
  margin-top: 12px;
}
#myDataContent .md-close-btn{
  background: #fff;
  color: #000;
  border: 1px solid rgba(0,0,0,.25);
  border-radius: 14px;
  padding: .65rem 1.1rem;
  font-weight: 600;
  cursor: pointer;
  transition: transform .08s ease, box-shadow .2s ease;
}
#myDataContent .md-close-btn:hover{ box-shadow: 0 4px 12px rgba(0,0,0,.12); }
#myDataContent .md-close-btn:active{ transform: translateY(1px); }

@media (max-width: 700px){
  #myDataContent .md-close-wrap{ margin-top: 16px; }
}

/* === Compact paddings for "Разбери повече" & "ЗАТВОРИ" buttons === */
#myDataContent .md-placements .md-more-btn,
#myDataContent .md-close-btn{
  padding: .30rem .90rem !important; /* smaller top/bottom */
  border-radius: 14px !important;
}

/* === Override: make labels and inputs on one line in Profiles Modal === */
#profilesContent .pm-row{
  display: flex !important;
  align-items: center;
  gap: 10px;
}
#profilesContent .pm-row > label{
  margin: 0;
  min-width: 90px;
  white-space: nowrap;
}
#profilesContent .pm-row input[type="text"],
#profilesContent .pm-row input[type="date"],
#profilesContent .pm-row input[type="time"]{
  flex: 1 1 auto;
  width: auto;
}
#profilesContent .pm-row .pm-time-row{
  flex: 1 1 auto;
  display: flex;
  gap: 12px;
  align-items: center;
}
#profilesContent .pm-row-city .pm-city-search{
  flex: 1 1 auto;
  display: flex;
  gap: 8px;
  align-items: stretch;
}
/* keep the city dropdown below the input row */
#profilesContent .pm-row-city .pm-city-dropdown{ margin-left: calc(90px + 10px); }
@media (max-width: 520px){
  #profilesContent .pm-row > label{ min-width: 80px; }
  #profilesContent .pm-row-city .pm-city-dropdown{ margin-left: calc(80px + 10px); }
}

/* === Profiles Modal (styles) === */
#profilesModal{
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  z-index: 9999;
  background: rgba(0,0,0,0.18);
}
#profilesModal.hidden{ display: none !important; }

#profilesContent.modal-content{
  width: min(680px, 92vw);
  max-height: 80vh;
  overflow: auto;
  padding: 16px 18px;
  border-radius: 16px;
  background: linear-gradient(180deg, #ffffff, #f6f1ff);
  box-shadow: 0 25px 55px rgba(0,0,0,.35), inset 0 0 0 1px rgba(76,29,149,.12);
}

#profilesContent .pm-title{
  text-transform: uppercase;
  font-weight: 900;
  font-size: clamp(18px, 2.2vw, 24px);
  color: #35186e;
  letter-spacing: .04em;
  margin: 0 0 10px;
  text-align: center;
}

#profilesContent .pm-or,
#profilesContent .pm-sep{
  text-align: center;
  font-weight: 800;
  color: #4c1d95;
  margin: 8px 0 6px;
}

#profilesContent .pm-actions{
  margin-top: 10px;
  display: flex;
  gap: 10px;
  justify-content: flex-end;
}

#profilesContent .pm-btn{
  padding: .55rem .9rem;
  border-radius: 12px;
  border: 2px solid #1f2937;
  background: #fff;
  color: #1f2937;
  font-weight: 900;
  cursor: pointer;
}
#profilesContent .pm-btn.primary{ background:#4c1d95; border-color:#4c1d95; color:#fff; box-shadow: 0 6px 14px rgba(124,58,237,.18); }
#profilesContent .pm-btn.danger{  background:#ef4444; border-color:#ef4444; color:#fff; }
#profilesContent .pm-btn.ghost{   background:#ffffffdd; }
#profilesContent .pm-btn:disabled{ opacity:.45; filter: grayscale(100%); pointer-events:none; }

/* City dropdown width under the input */
#profilesContent .pm-row-city { position: relative; }

#profilesContent .pm-row-city #pmCityDropdown .dropdown-menu{ width: 100%; max-height: 200px; overflow: auto; }

/* === Profiles Modal — site-aligned styling & polish === */
#profilesContent.modal-content{
  /* match site gradient card look (like myData) */
  background:
    radial-gradient(1200px 600px at 70% -20%, rgba(255,255,255,0.12) 0%, transparent 60%),
    linear-gradient(180deg, #6f49b0 0%, #7a52b7 30%, #8b5cc0 60%, #e7a07d 100%) !important;
  border: none;
  color: #fff;
}

#profilesContent .modal-close{
  position: absolute;
  top: 10px; right: 12px;
  width: 36px; height: 36px;
  border-radius: 999px;
  border: 2px solid #fff;
  display: grid; place-items: center;
  font-size: 1.2rem; font-weight: 900;
  cursor: pointer; color: #fff;
  box-shadow: 0 12px 28px rgba(124, 58, 237, .35);
  transition: transform .18s, box-shadow .18s, filter .18s;
  background: linear-gradient(180deg, rgba(255,255,255,.22), rgba(255,255,255,.05));
}
#profilesContent .modal-close:hover{ transform: translateY(-1px) scale(1.04); filter: brightness(1.05); }

#profilesContent .pm-wrap{ position: relative; }
#profilesContent .pm-title{ margin-top: 4px; }

/* Form rows */
#profilesContent .pm-row{
  display: flex !important;
  align-items: center;
  gap: 10px;
  margin: 8px 0;
}
#profilesContent .pm-row > label{
  margin: 0;
  min-width: 90px;
  white-space: nowrap;
  font-weight: 800;
  letter-spacing: .02em;
  text-shadow: 0 1px 0 rgba(0,0,0,.25);
}

/* Inputs look like site 'md-row' fields but compact */
#profilesContent .pm-row input[type="text"],
#profilesContent .pm-row input[type="date"],
#profilesContent .pm-row input[type="time"]{
  flex: 1 1 auto;
  width: auto;
  padding: .42rem .65rem;
  border-radius: 10px;
  border: 2px solid #ffffff;
  background: #ffffffdd;
  color: #111827;
  font-weight: 700;
  box-shadow: 0 6px 14px rgba(0,0,0,.12);
  transition: box-shadow .18s ease, border-color .18s ease, background .18s;
}
#profilesContent .pm-row input:focus{
  outline: none;
  border-color: #4c1d95;
  box-shadow: 0 0 0 3px rgba(76,29,149,.25), 0 6px 14px rgba(0,0,0,.18);
  background: #fff;
}

/* City search group */
#profilesContent .pm-row-city .pm-city-search{
  flex: 1 1 auto;
  display: flex;
  gap: 8px;
  align-items: stretch;
}
#profilesContent .pm-row-city .pm-city-dropdown{ margin-left: calc(90px + 10px); }
@media (max-width: 520px){
  #profilesContent .pm-row > label{ min-width: 80px; }
  #profilesContent .pm-row-city .pm-city-dropdown{ margin-left: calc(80px + 10px); }
}

/* Override dropdown in this modal to a light look matching inputs */
#profilesContent .select-with-arrow .dropdown-toggle{
  border: 2px solid #ffffff !important;
  background: #ffffffdd !important;
  color: #111827 !important;
}
#profilesContent .select-with-arrow .dropdown-menu{
  background: #ffffff !important;
  color: #111827 !important;
  border: 2px solid #1f2937 !important;
}
#profilesContent .select-with-arrow .dropdown-item{
  padding: .55rem .7rem;
  font-weight: 700;
}
#profilesContent .select-with-arrow .dropdown-item:hover,
#profilesContent .select-with-arrow .dropdown-item.active{
  background: rgba(76,29,149,.10);
}

/* Buttons — hover/active polish */
#profilesContent .pm-btn{ transition: transform .12s ease, filter .12s ease, box-shadow .12s ease; }
#profilesContent .pm-btn:hover:not(:disabled){ transform: translateY(-1px); filter: brightness(1.02); }
#profilesContent .pm-btn.primary:hover:not(:disabled){ box-shadow: 0 10px 18px rgba(124,58,237,.30); }
#profilesContent .pm-btn.danger:hover:not(:disabled){ box-shadow: 0 10px 18px rgba(239, 68, 68, .30); }

/* Title separators */
#profilesContent .pm-or,
#profilesContent .pm-sep{
  text-shadow: 0 1px 0 rgba(0,0,0,.25);
}

/* Keep modal itself centered and below navbar elements */
#profilesModal{ backdrop-filter: blur(2px); }

/* === Tweaks per request: smaller separators + tighter dropdown menu === */
#profilesContent .pm-or,
#profilesContent .pm-sep{
  font-size: 0.5em; /* 2x smaller */
}

#profilesContent .select-with-arrow .dropdown-menu{
  padding: .15rem .20rem; /* tighter inner padding */
}

#profilesContent .select-with-arrow .dropdown-item{
  padding: .35rem .55rem; /* smaller item padding */
}

/* === Tweaks: title smaller; separators slightly larger === */
#profilesContent .pm-title{
  font-size: clamp(16px, 1.9vw, 20px) !important;
}

#profilesContent .pm-or,
#profilesContent .pm-sep{
  font-size: 0.75em !important; /* was 0.5em */
}

/* ===============================================
   Compact UI + Typography overrides (2025-08-20)
   Requested: raise form to top, shrink fields/text,
   dropdown right under the city input, no bold text.
   (Additive overrides ONLY)
   =============================================== */

/* Bring modal almost to the top & tighten padding */
.modal .modal-content {
  margin: 0.5vh auto 0 !important;
  padding: 16px 16px 56px !important;
}

/* Wizard sizing: tighter gaps & smaller typography */
.wizard { gap: 10px !important; padding: 16px !important; }
.wizard-header { font-size: clamp(1.1rem, 2.6vw, 1.6rem) !important; text-shadow: none !important; }

/* Welcome copy smaller */
.welcome-title { font-size: clamp(1.0rem, 2.2vw, 1.4rem) !important; }
.welcome-text  { font-size: clamp(0.85rem, 1.8vw, 1.0rem) !important; }

/* Inputs & labels smaller */
.wizard-field input[type="date"],
.wizard-field input[type="time"],
.wizard-field input[type="text"] {
  padding: 0.45rem 0.60rem !important;
  font-size: 0.90rem !important;
  border-radius: 12px !important;
  box-shadow: 0 6px 16px rgba(0,0,0,.12) !important;
}

/* Smaller checkbox label */
.wizard-checkbox { font-size: 0.95rem !important; }

/* Action buttons a bit smaller & closer to content */
.nav-btn { width: 56px !important; height: 56px !important; }
.wizard-actions { bottom: 8px !important; padding: 0 12px !important; }

/* Search row compact */
.search-row {
      position: relative; gap: 0.4rem !important; width: min(520px, 92%) !important; }
.search-row .search-btn {
  padding: 0.5rem 0.7rem !important;
  font-size: 0.85rem !important;
  border-radius: 10px !important;
  letter-spacing: 0 !important;
}

/* Ensure dropdown appears directly below the city input and is compact */
#cityDropdown { margin-top: 0.25rem !important; position: relative !important; }
#cityDropdown .dropdown-toggle {
  padding: 0.55rem 0.70rem !important;
  font-size: 0.90rem !important;
  border-radius: 12px !important;
  font-weight: 400 !important;
}
#cityDropdown .dropdown-menu {
  position: absolute !important;
  top: calc(100% + 4px) !important;
  left: 0 !important;
  right: auto !important;
  transform: none !important;
  max-height: 220px !important;
  overflow: auto !important;
  border-radius: 12px !important;
}
#cityDropdown .dropdown-item {
  padding: 0.50rem 0.75rem !important;
  font-size: 0.90rem !important;
}

/* Make "welcome" choice buttons lighter and smaller */
.circle-btn {
  width: 56px !important; height: 56px !important;
  font-size: 1.2rem !important;
  box-shadow: 0 10px 24px rgba(124,58,237,.30) !important;
}

/* My Data modal: keep compact look too */
#myDataContent.modal-content {
  margin-top: 0.5vh !important;
  padding: 14px 16px 52px !important;
}
#myDataContent .md-form .title { font-size: 0.8rem !important; text-shadow: none !important; }
#myDataContent .md-row label,
#myDataContent .md-row .md-dst small { font-size: 0.80rem !important; }
#myDataContent .md-row input[type="date"],
#myDataContent .md-row input[type="time"],
#myDataContent .md-row input[type="text"] {
  padding: 0.35rem 0.45rem !important;
  font-size: 0.90rem !important;
}
#myDataContent .md-search,
#myDataContent .md-save {
  padding: 0.45rem 0.65rem !important;
  font-size: 0.85rem !important;
  font-weight: 400 !important;
}

/* Remove bold styles from common UI pieces */
.welcome-title, .welcome-text,
.dropdown-toggle, .finish-btn,
.search-btn, .circle-btn, .pmenu-label,
.md-title, .md-placements-title {
  font-weight: 400 !important;
}

/* Subtle aesthetic polish */
.dropdown-menu { box-shadow: 0 16px 36px rgba(0,0,0,.30) !important; }
.wizard-field input:focus { box-shadow: 0 0 0 3px rgba(124,58,237,.15) !important; border-color: #7c3aed !important; }

/* ===================================================
   Profile & Search UX refinements (2025-08-20-b)
   =================================================== */
.pmenu-label, .profile-title { margin-top: 6px !important; margin-bottom: 6px !important; }

/* Profile select area spacing & compact dropdown */
#profileDropdown, .profile-select, #profileSelect { margin-bottom: 4px !important; }
#profileDropdown .dropdown-toggle,
.profile-select .dropdown-toggle { padding-top: 0.35rem !important; padding-bottom: 0.35rem !important; }
#profileDropdown .dropdown-menu .dropdown-item,
.profile-select .dropdown-menu .dropdown-item { padding-top: 6px !important; padding-bottom: 6px !important; }

/* Emphasize "или" and "--- създай нов ---" slightly */
.profile-or, .profile-create-new { font-weight: 600 !important; }

/* No gap between "или" and create-new when wrapped */
.profile-inline-chooser { display: inline-flex !important; gap: 0 !important; align-items: baseline !important; }
.profile-inline-chooser > * { margin: 0 !important; }

/* Close button positioning */
.modal .btn-close, .modal .modal-close, .modal .close {
  position: absolute !important;
  top: 8px !important;
  right: 8px !important;
  z-index: 50 !important;
}

/* Ensure search results dropdown aligns under city input, left edge */
.search-row {
      position: relative; position: relative !important; }
.search-row .dropdown-menu.search-results {
  position: absolute !important;
  left: 0 !important;
  right: auto !important;
  transform: none !important;
}
/* ===================================================
   Ultra-compact pass (2025-08-20-c)
   =================================================== */
.modal .modal-content { margin: 0.2vh auto 0 !important; padding: 10px 12px 28px !important; }
.wizard { gap: 6px !important; padding: 10px 12px !important; }
.wizard-header, .welcome-title, .profile-title, .pmenu-label { margin-top: 2px !important; margin-bottom: 2px !important; }
.wizard-field label { margin-bottom: 2px !important; }
.wizard-field input[type="date"],
.wizard-field input[type="time"],
.wizard-field input[type="text"] { padding: 0.30rem 0.50rem !important; font-size: 0.85rem !important; border-radius: 10px !important; }

/* Profile chooser spacing */
#profileDropdown, .profile-select, #profileSelect { margin-bottom: 2px !important; }
.profile-inline-chooser { gap: 0 !important; }
.profile-or, .profile-create-new { font-weight: 600 !important; }
.profile-inline-chooser > * { margin: 0 !important; }

/* Dropdown compaction */
#profileDropdown .dropdown-toggle,
.profile-select .dropdown-toggle { padding-top: 0.30rem !important; padding-bottom: 0.30rem !important; }
#profileDropdown .dropdown-menu .dropdown-item,
.profile-select .dropdown-menu .dropdown-item { padding-top: 4px !important; padding-bottom: 4px !important; }
#cityDropdown .dropdown-toggle { padding-top: 0.30rem !important; padding-bottom: 0.30rem !important; }
#cityDropdown .dropdown-menu .dropdown-item { padding-top: 4px !important; padding-bottom: 4px !important; }

/* Search row tighter */
.search-row {
      position: relative; gap: 0.30rem !important; margin-top: 2px !important; margin-bottom: 4px !important; width: min(460px, 92%) !important; }
.search-row .search-btn { padding: 0.40rem 0.60rem !important; font-size: 0.80rem !important; }

/* Action buttons inside the form */
.wizard-actions { position: static !important; padding: 0 !important; margin-top: 8px !important; }
.nav-btn { width: 48px !important; height: 48px !important; }

/* Close button */
.modal .btn-close, .modal .modal-close, .modal .close { top: 6px !important; right: 6px !important; }

/* ==== Profiles Modal — compact spacing & precise alignment (2025-08-20) ==== */
#profilesContent .pm-title{
  margin: 2px 0 4px !important;
}
#profilesContent .pm-row-profiles{ margin-bottom: 4px !important; }
#profilesContent .pm-or,
#profilesContent .pm-sep{
  font-weight: 600 !important;
  line-height: 1.1 !important;
}
#profilesContent .pm-or{ margin: 4px 0 0 !important; }
#profilesContent .pm-sep{ margin: 0 0 6px !important; }
/* zero space between "или" and "--- създай нов ---" */
#profilesContent .pm-or + .pm-sep{ margin-top: 0 !important; }

/* Profiles dropdown paddings (toggle + items) */
#profilesContent #pmProfilesDD .dropdown-toggle{ padding-top: .28rem !important; padding-bottom: .28rem !important; }
#profilesContent #pmProfilesMenu .dropdown-item{ padding-top: .25rem !important; padding-bottom: .25rem !important; }

/* Close button X at very top-right of the form */
#profilesContent .modal-close{ top: 4px !important; right: 6px !important; }

/* City dropdown appears left under the input (not full width) */
#profilesContent .pm-row-city{ align-items: flex-start !important; }
#profilesContent #pmCityDropdown{
  margin: 4px 0 0 calc(90px + 10px) !important; /* align with left edge of input (label 90 + gap 10) */
  width: auto !important;
  display: inline-block !important;
}
#profilesContent #pmCityDropdown .dropdown-menu{ min-width: 240px; }

/* Tighten actions area so buttons stay within form */
#profilesContent .pm-actions{ margin-top: 6px !important; gap: 6px !important; }

/* ===== City dropdown under the input — compact and left-aligned (2025-08-20-e) ===== */
#qCityDropdown{ margin-top: .35rem !important; position: relative !important; }
#qCityDropdown .dropdown-toggle{
  font-size: 0.82rem !important;
  padding: .28rem .42rem !important;
  border-radius: 10px !important;
  width: 100% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
}
#qCityDropdown .chev{ transition: transform .18s ease !important; }
#qCityDropdown.open .chev{ transform: rotate(180deg) !important; }
#qCityDropdown .dropdown-menu{
  position: absolute !important;
  top: calc(100% + 4px) !important;
  left: 0 !important;
  right: auto !important;
  transform: none !important;
  width: 100% !important;
  max-height: 200px !important;
  overflow: auto !important;
  border-radius: 10px !important;
}
#qCityDropdown .dropdown-item{
  font-size: 0.82rem !important;
  padding: .30rem .45rem !important;
}

/* === Compact font + scrolling for city dropdowns (wizard & small forms) === */
.wizard-step[data-step="place"] #cityDropdown .dropdown-toggle,
.wizard-step[data-step="place"] #cityDropdown .dropdown-menu,
.wizard-step[data-step="place"] #cityDropdown .dropdown-item{
  font-size: 0.85rem !important;
}
.wizard-step[data-step="place"] #cityDropdown .dropdown-menu{
  overflow: auto !important;
}

/* Small "query city" inline dropdown */
#qCityDropdown .dropdown-toggle,
#qCityDropdown .dropdown-menu,
#qCityDropdown .dropdown-item{
  font-size: 0.70rem !important;
}

/* === City dropdowns: align UNDER the city input (wizard, My Data, Profiles) === */
.wizard-step[data-step="place"] .search-row{ position: relative; }
.wizard-step[data-step="place"] #cityDropdown{ position: absolute; z-index: 3000; right: auto !important; }
#myDataContent .md-row{ position: relative; }
#mdDropdown{ position: absolute; z-index: 3000; right: auto !important; }
#profilesContent .pm-row-city{ position: relative; }
#profilesContent #pmCityDropdown{ position: absolute; z-index: 3000; right: auto !important; }

/* Menus fill the dropdown box (which we size in JS), and scroll if tall */
#cityDropdown .dropdown-menu,
#mdDropdown .dropdown-menu,
#pmCityDropdown .dropdown-menu{
  width: 100%;
  max-height: 220px;
  overflow: auto;
}

/* Smaller font for all city dropdown variants */
#cityDropdown .dropdown-toggle,
#cityDropdown .dropdown-menu,
#cityDropdown .dropdown-item,
#mdDropdown .dropdown-toggle,
#mdDropdown .dropdown-menu,
#mdDropdown .dropdown-item,
#pmCityDropdown .dropdown-toggle,
#pmCityDropdown .dropdown-menu,
#pmCityDropdown .dropdown-item{
  font-size: 0.85rem !important;
}

    /* Anchor dropdown container to the right when placed inside .search-row */
    .search-row .dropdown{
      position: absolute;
      right: 0;
      left: auto;
    }

/* === PATCH 2025-08-22: pmCityDropdown — place left under the city input and open upwards === */
#profilesContent .pm-row-city{ position: relative !important; }
#profilesContent #pmCityDropdown{
  position: absolute !important;
  margin: 0 !important;           /* cancel older margin-left align rules */
  right: auto !important; 
  z-index: 3000 !important;
  /* left & top are computed in JS to match the input's left edge and sit just below it */
}
#profilesContent #pmCityDropdown.up .dropdown-menu{
  top: auto !important;
  bottom: calc(100% + 8px) !important;  /* open upwards above the toggle */
  margin-top: 0 !important;
}
#profilesContent #pmCityDropdown .dropdown-menu{
  width: 100% !important;
  max-height: 220px !important;
  overflow: auto !important;
}

/* === FIX (2025-08-23): Wizard city dropdown aligned with #placeInput (left) and opens DOWN === */
.wizard-step[data-step="place"] .search-row { position: relative !important; }

.wizard-step[data-step="place"] #cityDropdown{
  position: absolute !important;
  left: 0 !important;            /* concrete value set via JS */
  right: auto !important;
  margin-top: 0 !important;
  z-index: 3000 !important;
  width: auto !important;        /* JS sets exact pixel width = #placeInput width */
}

.wizard-step[data-step="place"] #cityDropdown.up .dropdown-menu{ 
  bottom: auto !important; 
  top: calc(100% + 4px) !important; 
}

.wizard-step[data-step="place"] #cityDropdown .dropdown-menu{
  top: calc(100% + 4px) !important; /* ensure opens downward */
  width: 100% !important;           /* fill dropdown width */
  max-height: 240px !important;
  overflow: auto !important;
}

/* neutralize older conflicting rules */
#cityDropdown { position: static !important; } /* base neutralization */
.search-row #cityDropdown{ right: auto !important; }

/* ===== [2025-08-23] Fix: #cityDropdown sits under #placeInput and matches its width ===== */
.wizard-step[data-step="place"] .search-row { position: relative !important; }
.wizard-step[data-step="place"] #cityDropdown{
  position: absolute !important;
  left: 0 !important;
  right: auto !important;
  z-index: 3000 !important;
}
.wizard-step[data-step="place"] #cityDropdown .dropdown-menu{
  width: 100% !important;
  max-height: 240px !important;
  overflow: auto !important;
  top: calc(100% + 4px) !important; /* keep menu just below the dropdown button */
}

/* === cityDropdow styles (auto-generated) === */
/* 2025-08-24T09:42:32 */
/* Clean, theme-matching dropdown right under #placeInput */
#cityDropdow { 
  position: static !important;
  display: block !important;
  margin-top: 6px !important; /* a few pixels under the input */
  width: 100% !important;
  max-width: 100% !important;
  z-index: 50 !important;
}

#cityDropdow .dropdown-toggle {
  width: 100%;
  display: flex; align-items: center; justify-content: space-between;
  background: linear-gradient(180deg, #ffffff, #faf7ff);
  border: 1px solid rgba(124,58,237,.25);
  border-radius: 14px;
  padding: 10px 12px;
  font-weight: 500;
  box-shadow: 0 6px 18px rgba(124,58,237,.10), inset 0 0 0 1px rgba(255,255,255,.6);
  color: var(--ink, #0f172a);
}
#cityDropdow .dropdown-toggle .label { opacity: .85 }
#cityDropdow .dropdown-toggle .chev { font-size: 14px; opacity: .55 }
#cityDropdow .dropdown-toggle:focus { outline: 2px solid rgba(124,58,237,.35); outline-offset: 2px }

#cityDropdow .dropdown-menu {
  display: none;
  position: relative;
  width: 100%;
  margin-top: 8px;
  background: #ffffff;
  border: 1px solid rgba(124,58,237,.22);
  border-radius: 16px;
  box-shadow: 0 14px 38px rgba(17,12,46,.16), 0 2px 6px rgba(124,58,237,.12);
  overflow: auto;
  max-height: clamp(180px, 36vh, 320px);
  padding: 6px;
}

#cityDropdow.open .dropdown-menu { display: block; }

#cityDropdow .dropdown-item,
#cityDropdow [role="option"],
#cityDropdow li {
  list-style: none;
  padding: 10px 12px;
  border-radius: 10px;
  cursor: pointer;
  font-size: clamp(.92rem, 2.3vw, 1rem);
  color: var(--ink, #0f172a);
  transition: background .18s ease, box-shadow .18s ease, transform .04s ease;
}
#cityDropdow .dropdown-item:hover,
#cityDropdow [role="option"]:hover,
#cityDropdow li:hover {
  background: rgba(124,58,237,.08);
}
#cityDropdow .dropdown-item.active,
#cityDropdow [role="option"].active,
#cityDropdow li.active {
  background: linear-gradient(180deg, rgba(124,58,237,.15), rgba(124,58,237,.10));
  box-shadow: inset 0 0 0 1px rgba(124,58,237,.25);
}

@media (prefers-color-scheme: dark){
  #cityDropdow .dropdown-toggle {
    background: linear-gradient(180deg, #1f1b2a, #1a1724);
    border-color: rgba(124,58,237,.35);
    color: #e7e2ff;
  }
  #cityDropdow .dropdown-menu {
    background: #151321;
    border-color: rgba(124,58,237,.35);
  }
  #cityDropdow .dropdown-item,
  #cityDropdow [role="option"],
  #cityDropdow li { color: #e9e6ff; }
  #cityDropdow .dropdown-item:hover,
  #cityDropdow [role="option"]:hover,
  #cityDropdow li:hover { background: rgba(124,58,237,.22); }
  #cityDropdow .dropdown-item.active,
  #cityDropdow [role="option"].active,
  #cityDropdow li.active {
    background: linear-gradient(180deg, rgba(124,58,237,.35), rgba(124,58,237,.20));
    box-shadow: inset 0 0 0 1px rgba(124,58,237,.45);
  }
}
/* === END cityDropdow styles === */

/* === qCityResults styles (auto-generated) === */
/* 2025-08-24T09:45:18 */
/* Themed list-style dropdown for #qCityResults positioned just under #qCity */
#qCityResults {
  display: none; /* JS will open/close */
  width: 100% !important;
  margin-top: 6px !important;
  background: #ffffff;
  border: 1px solid rgba(124,58,237,.25);
  border-radius: 14px;
  padding: 6px;
  max-height: clamp(180px, 36vh, 320px);
  box-shadow: 0 14px 38px rgba(17,12,46,.16), 0 2px 6px rgba(124,58,237,.12);
  color: var(--ink, #0f172a);
  outline: none;
}
#qCityResults:focus {
  outline: 2px solid rgba(124,58,237,.35);
  outline-offset: 2px;
}
#qCityResults option {
  padding: 10px 12px;
  border-radius: 10px;
}
#qCityResults option:checked {
  background: linear-gradient(180deg, rgba(124,58,237,.20), rgba(124,58,237,.10));
}

@media (prefers-color-scheme: dark){
  #qCityResults {
    background: #151321;
    border-color: rgba(124,58,237,.35);
    color: #e7e2ff;
  }
  #qCityResults option:checked {
    background: linear-gradient(180deg, rgba(124,58,237,.35), rgba(124,58,237,.20));
  }
}
/* === END qCityResults styles === */

/* === cityDropdown styles (auto-generated) === */
/* 2025-08-24T09:49:32 */
/* Themed dropdown under #placeInput (wizard) */
#wizard .dropdown#cityDropdown, 
.dropdown#cityDropdown {
  position: absolute; /* allow top/left from JS positioning */
  width: 100%;
  z-index: 60;
}

#cityDropdown .dropdown-toggle {
  width: 100%;
  display: flex; align-items: center; justify-content: space-between;
  background: linear-gradient(180deg, #ffffff, #faf7ff);
  border: 1px solid rgba(124,58,237,.25);
  border-radius: 14px;
  padding: 10px 12px;
  font-weight: 500;
  box-shadow: 0 6px 18px rgba(124,58,237,.10), inset 0 0 0 1px rgba(255,255,255,.6);
  color: var(--ink, #0f172a);
}
#cityDropdown .dropdown-toggle .label { opacity: .85 }
#cityDropdown .dropdown-toggle .chev { font-size: 14px; opacity: .55 }
#cityDropdown .dropdown-toggle:focus { outline: 2px solid rgba(124,58,237,.35); outline-offset: 2px }

#cityDropdown .dropdown-menu {
  display: none;
  width: 100%;
  margin-top: 6px; /* a few pixels under the input */
  background: #ffffff;
  border: 1px solid rgba(124,58,237,.22);
  border-radius: 16px;
  box-shadow: 0 14px 38px rgba(17,12,46,.16), 0 2px 6px rgba(124,58,237,.12);
  overflow: auto;
  max-height: clamp(180px, 36vh, 320px);
  padding: 6px;
}
#cityDropdown.open .dropdown-menu { display: block; }

#cityDropdown .dropdown-item {
  list-style: none;
  padding: 10px 12px;
  border-radius: 10px;
  cursor: pointer;
  font-size: clamp(.92rem, 2.3vw, 1rem);
  color: var(--ink, #0f172a);
  transition: background .18s ease, box-shadow .18s ease, transform .04s ease;
}
#cityDropdown .dropdown-item:hover { background: rgba(124,58,237,.08); }
#cityDropdown .dropdown-item.active {
  background: linear-gradient(180deg, rgba(124,58,237,.15), rgba(124,58,237,.10));
  box-shadow: inset 0 0 0 1px rgba(124,58,237,.25);
}

@media (prefers-color-scheme: dark){
  #cityDropdown .dropdown-toggle {
    background: linear-gradient(180deg, #1f1b2a, #1a1724);
    border-color: rgba(124,58,237,.35);
    color: #e7e2ff;
  }
  #cityDropdown .dropdown-menu {
    background: #151321;
    border-color: rgba(124,58,237,.35);
  }
  #cityDropdown .dropdown-item { color: #e9e6ff; }
  #cityDropdown .dropdown-item:hover { background: rgba(124,58,237,.22); }
  #cityDropdown .dropdown-item.active {
    background: linear-gradient(180deg, rgba(124,58,237,.35), rgba(124,58,237,.20));
    box-shadow: inset 0 0 0 1px rgba(124,58,237,.45);
  }
}
/* === END cityDropdown styles === */

/* === wizard city dropdown CSS fixes (auto-generated) === */
/* 2025-08-24T10:09:21 */
/* Keep the row a reasonable width so fields are not too long */
.wizard-step[data-step="place"] .search-row {
  position: relative !important;
  width: min(520px, 92%) !important;
}
.wizard-step[data-step="place"] #placeInput {
  flex: 1 1 auto !important;
  width: 100% !important;
}
/* The menu inside the small legacy dropdown should flow below the toggle, not absolute */
#qCityDropdown .dropdown-menu {
  position: static !important;
  left: auto !important;
  right: auto !important;
  top: auto !important;
  margin-top: 6px !important;
}
/* === END wizard city dropdown CSS fixes === */

/* === FULL RESET for dropdown fields (auto-generated) === */
/* 2025-08-24T10:18:03 */
/* Remove ALL visual styling for the dropdown fields; keep only basic show/hide behavior */

/* Wizard dropdown (large) */
#wizard #cityDropdown, 
#cityDropdown,
#cityDropdown * {
  all: revert !important;
}

/* Small dropdown (My Data) */
#qCityDropdown, 
#qCityDropdown * {
  all: revert !important;
}

/* Legacy select results (if used anywhere) */
#qCityResults, 
#qCityResults * {
  all: revert !important;
}

/* Keep the dropdown list hidden by default and visible when .open is present */
#cityDropdown .dropdown-menu,
#qCityDropdown .dropdown-menu {
  display: none !important;
}
#cityDropdown.open .dropdown-menu,
#qCityDropdown.open .dropdown-menu {
  display: block !important;
}

/* Make the surrounding row natural width again */
.wizard-step[data-step="place"] .search-row {
  width: auto !important;
  max-width: none !important;
}
/* === END FULL RESET for dropdown fields === */

/* === .cityDropdow layout (auto-generated) === */
/* 2025-08-24T10:29:16 */
/* Layout-only rules for the new dropdown class and longer inputs */

/* Make the 'place' row wider so both #placeInput and the dropdown are longer */
.wizard-step[data-step="place"] .search-row {
  width: min(640px, 95%) !important;
}
.wizard-step[data-step="place"] #placeInput {
  flex: 1 1 auto !important;
  width: 100% !important;
  max-width: none !important;
}

/* Dropdown container directly under the input */
.cityDropdow {
  position: absolute;        /* positioned relative to .search-row */
  left: 0; right: auto;
  top: calc(100% + 6px);     /* a few pixels below the input row */
  width: 100% !important;    /* same width as the row/input */
  margin-top: 0 !important;
  z-index: 60;
}
/* Keep the menu flowing inside the container; we don't add visual styling here */
.cityDropdow .dropdown-menu {
  position: static !important;
  display: none;
}
.cityDropdow.open .dropdown-menu { display: block; }
/* === END .cityDropdow layout === */

/* === cityDropdow normal-toggle (auto-generated) === */
/* 2025-08-24T10:36:27 */
/* Keep normal look on click; no scaling or padding changes. */
.cityDropdow .dropdown-toggle {
  width: 100%;
  min-height: 40px;
  padding: 10px 12px;
  transform: none !important;
}
.cityDropdow.open .dropdown-toggle {
  min-height: 40px;
  padding: 10px 12px;
  transform: none !important;
}
.cityDropdow .dropdown-toggle .chev { transform: none !important; }

/* Menu still opens downward inside the container */
.cityDropdow .dropdown-menu { 
  position: static !important; 
  display: none; 
  margin-top: 8px; 
}
.cityDropdow.open .dropdown-menu { display: block; }
/* === END cityDropdow normal-toggle === */

/* === FINAL FORCE LAYOUT for city dropdowns (both ids) === */
/* 2025-08-24T10:42:44 */
/* Applies to both the new id (#cityDropdow) and the old id (#cityDropdown) */

/* Make the wizard row wider so inputs look longer */
.wizard-step[data-step="place"] .search-row {
  position: relative !important;
  width: min(640px, 95%) !important;
}

/* Position dropdown container just under the input row, full width */
.wizard-step[data-step="place"] #cityDropdow,
.wizard-step[data-step="place"] #cityDropdown {
  position: absolute !important;
  left: 0 !important;
  right: auto !important;
  top: calc(100% + 6px) !important;
  width: 100% !important;
  margin: 0 !important;
  z-index: 70 !important;
}

/* Menu opens downward inside the container */
#wizard #cityDropdow .dropdown-menu,
#wizard #cityDropdown .dropdown-menu {
  position: static !important;
  left: auto !important;
  right: auto !important;
  top: auto !important;
  margin-top: 8px !important;
  display: none !important;
}
#wizard #cityDropdow.open .dropdown-menu,
#wizard #cityDropdown.open .dropdown-menu {
  display: block !important;
}
/* === END FINAL FORCE LAYOUT for city dropdowns (both ids) === */

/* === natal drop-in (auto-generated) === */
/* 2025-08-24T10:59:50 */
/* Top-left natal chart that drops from above after data loads */
.natal-drop{
  position: fixed;
  top: 12px; left: 12px;
  width: clamp(160px, 22vw, 320px);
  aspect-ratio: 1 / 1;
  z-index: 1000;
  transform: translateY(-140%);
  opacity: 0;
  visibility: hidden;
  pointer-events: none; /* overlay only; doesn't block clicks */
}
.natal-drop img{
  width: 100%; height: 100%;
  object-fit: contain;
  filter: drop-shadow(0 10px 22px rgba(0,0,0,.28));
  border-radius: 12px;
}
.natal-drop.show{
  animation: natalDropIn .75s cubic-bezier(.22,.85,.19,1) forwards;
  visibility: visible;
}
@keyframes natalDropIn{
  0%   { transform: translateY(-140%) scale(.98); opacity: 0; }
  80%  { transform: translateY(6px)    scale(1.02); opacity: 1; }
  100% { transform: translateY(0)      scale(1);   opacity: 1; }
}
@media (prefers-reduced-motion: reduce){
  .natal-drop{ transform: none; opacity: 1; visibility: visible; animation: none; }
}
/* === END movie-credits animation === */

/* === NatalDrop spinner video overlay === */
#natalDrop{ position: relative; margin: 0; } /* keep as fixed; if already fixed elsewhere, this is a no-op */
#natalDrop .spinner{
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
  opacity: 0;
  transition: opacity .2s ease;
}
#natalDrop.loading .spinner{ opacity: 1; }
#natalDrop video#natalSpinner{
  max-width: 72%;
  max-height: 72%;
  outline: none;
  border: 0;
  border-radius: 50%;
  box-shadow: none;
}
/* === END spinner overlay === */

/* === Natal right panel (same height as #natalDrop) === */
.natal-right{ padding:0; align-items:flex-start; justify-content:flex-start; position: relative; width: min(1100px, 95vw); margin: 16px auto; background: #000; color: #fff; border-radius: 14px; box-shadow: 0 10px 22px rgba(0,0,0,.28);  display: flex; align-items: flex-start; justify-content: flex-start; }

.natal-right.show{ }

@keyframes nrSlideIn{
  from { opacity: 0; transform: translateY(-6px); }
  to   { opacity: 1; transform: none; }
}

/* По-малки екрани: скрий панела, ако няма място */

/* Ensure natal chart starts at the top-left inside #natalRight { position: relative; }
#natalRight #natalDrop { align-self: flex-start; }
/* === Force natal chart absolute top-left inside #natalRight === */
#natalRight { position: relative; }
@media (min-width: 601px){
#natalDrop { position: absolute !important; top: 0 !important; left: 0 !important; margin: 0 !important; }
}
#natalRight .natal-drop { transform: none !important; width: auto !important; aspect-ratio: auto !important; opacity: 1 !important; visibility: visible !important; pointer-events: auto !important; }


/* Size the natal chart to 30vh x 30vh */
#natalRight #natalDropImg{
  display:block;
  width: 30vh;
  height: 30vh;
  margin: 0;
  object-fit: contain;
}


/* === Mobile layout (stack: wheel, aspects, button) === */
@media (max-width: 600px){
  /* Stack order */
  #natalRight{
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: 12px;
    padding: 8px 12px 12px;
    width: 100%;
    box-sizing: border-box;
  
    min-height: 60vh;
  
  #aspectCredits.aspect-credits{
    font-size: 0.75rem;
    line-height: 1.15;
  }
}

  /* 1) Natal wheel on top and IN FLOW (no absolute) */
  #natalDrop{
    order: 1;
    position: static !important;
    top: auto !important;
    left: auto !important;
    right: auto !important;
    bottom: auto !important;
    align-self: center;
    width: 100%;
  
    z-index: auto !important;
    margin: 0 0 8px 0;
  }
  #natalDropImg{
    width: min(92vw, 420px);
    height: auto;
  }

  /* 2) Planet info below wheel, scrollable if needed */
  #aspectCredits.aspect-credits{
    order: 2;
    position: static !important;
    left: auto !important;
    right: auto !important;
    height: auto !important;
    max-height: 40vh;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
    z-index: auto !important;
    justify-content: flex-start;
    font-size: 0.85rem;
    line-height: 1.2;
    padding: 8px 6px;
    gap: 4px;
    background: transparent;
  }
  .aspect-row{
    gap: 6px;
    flex-wrap: wrap;
  }
  .aspect-row video,
  .aspect-row img.icon-planet{
    width: 20px;
    height: 20px;
  }

  /* 3) Learn more button last and in flow */
  #learnMoreBtn.learn-more-btn{
    order: 3;
    position: static !important;
    align-self: flex-end;
    margin-top: 4px;
  }
}

/* === Aspect Credits (movie-like, infinite scroll) === */
#aspectCredits.aspect-credits{
  position: absolute;
  top: 0;
  left: calc(30vh + 16px); /* място за колелото (30vh) + отстояние */
  right: 12px;
  height: 30vh;            /* колкото височината на #natalDropImg */
  padding: 10px 12px;
  border-radius: 14px;
  background: rgba(10,10,16,.50);
  border: 1px solid rgba(255,255,255,.08);
  box-shadow: 0 10px 26px rgba(0,0,0,.28), inset 0 0 0 1px rgba(255,255,255,.04);
  overflow: hidden;
  color: #fff;
  font: 500 14px/1.25 system-ui, -apple-system, Segoe UI, Roboto, Arial;
  --dur: 40s;              /* скорост на скрола: колкото по-голямо, толкова по-бавно */
}

#aspectCredits .credits-mask{
  position: absolute; inset: 0;
  overflow: hidden;
  transform: perspective(900px) rotateX(12deg);  /* кинематичен наклон */
  transform-origin: center 110%;
}

/* Fade top/bottom – по-киномодно 😊 */
#aspectCredits .credits-mask::before,
#aspectCredits .credits-mask::after{
  content:"";
  position:absolute; left:0; right:0; height:22%;
  pointer-events:none;
  z-index:2;
}
#aspectCredits .credits-mask::before{
  top:0;
  background: linear-gradient(#000, rgba(0,0,0,0));
}
#aspectCredits .credits-mask::after{
  bottom:0;
  background: linear-gradient(rgba(0,0,0,0), #000);
}

/* Пистата със съдържание (две групи, едната след другата) */
#aspectCredits .credits-track{
  position:absolute; left:0; right:0; top:0;
  display:flex; flex-direction:column; gap:10px;
  will-change: transform;
  animation: aspectCreditsUp var(--dur) linear infinite;
}
#aspectCredits .credits-group{
  display:flex; flex-direction:column; gap:10px;
}

/* Редът: „Транзитен/а … прави … с … в …“ */
#aspectCredits .aspect-row{
  display:flex; align-items:center; gap:8px;
  white-space: nowrap;
  text-shadow: 0 1px 0 rgba(0,0,0,.35);
}
#aspectCredits .aspect-row .kw{ opacity:.85; }
#aspectCredits .aspect-row .asp{ font-weight:800; letter-spacing:.02em; }

#aspectCredits video.icon-planet,
#aspectCredits img.icon-planet{
  width: 26px; height: 26px; border-radius: 50%;
  object-fit: cover; display:inline-block; vertical-align:middle;
  box-shadow: 0 2px 6px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.25);
}

/* Анимацията: половин път (втората половина е клониране за безшевен loop) */
@keyframes aspectCreditsUp{
  from { transform: translateY(0); }
  to   { transform: translateY(-50%); }
}

/* Мобилно: вече имаш адаптация за #aspectCredits – тя остава валидна. */


/* === CTA: Разбери повече — desktop style === */
#learnMoreBtn.learn-more-btn{
  position: absolute;
  right: 12px;
  bottom: 12px;
  z-index: 50;

  display: inline-flex;
  align-items: center;
  gap: 8px;

  padding: .70rem 1.10rem;
  border-radius: 9999px;
  text-decoration: none;
  font-weight: 700;
  letter-spacing: .2px;

  color: #fff;
  background: linear-gradient(135deg, #a78bfa, #f472b6);
  box-shadow:
    0 10px 22px rgba(124,58,237,.35),
    0 2px 6px rgba(0,0,0,.20),
    inset 0 0 0 1px rgba(255,255,255,.18);
  border: 0;
  transform: translateZ(0);
  transition: transform .15s ease, box-shadow .15s ease, filter .15s ease;
}
#learnMoreBtn.learn-more-btn::after{ content:"→"; font-weight:700; transition: transform .15s ease; }
#learnMoreBtn.learn-more-btn:hover{
  transform: translateY(-1px);
  box-shadow:
    0 14px 28px rgba(124,58,237,.38),
    0 4px 10px rgba(0,0,0,.22),
    inset 0 0 0 1px rgba(255,255,255,.22);
}
#learnMoreBtn.learn-more-btn:hover::after{ transform: translateX(2px); }
#learnMoreBtn.learn-more-btn:active{
  transform: translateY(0);
  box-shadow:
    0 6px 14px rgba(124,58,237,.30),
    0 2px 6px rgba(0,0,0,.22),
    inset 0 0 0 1px rgba(255,255,255,.16);
}
#learnMoreBtn.learn-more-btn:focus-visible{ outline:3px solid rgba(167,139,250,.55); outline-offset:2px; }

/* === Mobile layout: wheel -> text -> button (FINAL) === */
@media (max-width: 600px){
  #natalRight{
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: 12px;
    padding: 8px 12px 12px;
    width: 100%;
    box-sizing: border-box;
    height: auto !important;
    min-height: auto !important;
  }
  #natalDrop{
    order: 1;
    position: static !important;
    top: auto !important; left: auto !important; right: auto !important; bottom: auto !important;
    align-self: center;
    width: 100%;
    margin: 0 0 8px 0;
    z-index: auto !important;
    height: auto !important;
  }
  #natalDropImg{ width: min(92vw, 420px); height: auto; }

  #aspectCredits.aspect-credits{
    order: 2;
    position: relative !important;
    top: auto !important; left: auto !important; right: auto !important;
    width: 100% !important;
    height: auto !important;
    max-height: 63vh;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
    margin: 0;
    z-index: auto !important;
    justify-content: flex-start;
    font-size: 0.85rem;
    line-height: 1.2;
    padding: 8px 6px;
    gap: 4px;
    background: transparent;
  }
  .aspect-row{ gap: 6px; flex-wrap: wrap; }
  .aspect-row video, .aspect-row img.icon-planet{ width: 20px; height: 20px; }

  #learnMoreBtn.learn-more-btn{
    order: 3;
    position: static !important;
    align-self: flex-end;
    margin-top: 6px;
  }
}



/* === Mobile override: set #natalRight height to 65vh and make info panel flex === */
@media (max-width: 600px){
  #natalRight{
    height: 65vh !important;
    min-height: 65vh !important;
  }
  #aspectCredits.aspect-credits{
    flex: 1 1 auto;
    max-height: none !important;
    min-height: 0; /* allow flex child to shrink properly */
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
}


/* === Force Profile Menu above all UI layers (requested) === */
#profileMenu,
#profileMenu.pmenu{
  position: fixed !important;
  z-index: 1000000001 !important; /* above modals/overlays */
}
#profileMenu .pmenu-arrow{ z-index: 1000002 !important; }

/* === My Data overlay and natal chart blur when open === */
#myDataModal{
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  z-index: 12000;
  background: rgba(0,0,0,0.18);
}
#myDataModal.hidden{ display: none !important; }

/* Blur natal chart image while My Data is open */
body.mydata-open #natalDropImg{ filter: blur(2px) !important; }
body.mydata-open #natalRight,
body.mydata-open #natalDrop{ z-index: 1 !important; }

/* === Force Profile Menu above all UI layers (root stacking) === */
#profileMenu,
#profileMenu.pmenu{
  position: fixed !important;
  z-index: 2147483640 !important; /* above panels/buttons */
}
#profileMenu .pmenu-arrow{ z-index: 2147483641 !important; }

/* === Home video grid (matches profile .video-grid/.video-item, half height) === */
@import url('https://fonts.googleapis.com/css2?family=Libertinus+Sans:ital,wght@0,400;0,700;1,400&display=swap');

.home-video-grid{
  display: flex;
  justify-content: center;            /* center horizontally */
  align-items: center;                /* center vertically */
  padding: 2vh 2vw;
  gap: 1vw;
  height: calc((100vh - 100px) * 0.75);  /* half the height from profile.css */
  box-sizing: border-box;
}
.home-video-grid .video-item{
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  height: 100%;
  max-width: 22%;
  text-decoration: none;
  color: inherit;
}
.home-video-grid .video-item video{
  width: 100%;
  height: 100%;
  object-fit: cover;
  aspect-ratio: 9/16;
  border-radius: 20px 20px 0 0;
  transition: transform 0.3s ease;
}
.home-video-grid .video-item p{
  font-family: "Libertinus Sans", sans-serif;
  font-weight: 700;
  font-style: italic;
  font-size: 1.5rem;
  color: rgb(216, 169, 243);
  width: 100%;
  margin: 0;
  padding: 0.5rem 0 0;
  text-align: center;
  background-color: rgb(42, 11, 74);
  border-radius: 0 0 20px 20px;
  cursor: pointer;
}
@media (max-width: 900px){
  .home-video-grid{ height: 63vh; } /* a bit taller on smaller screens */
}
@media (max-width: 600px){
  .home-video-grid{
    height: 57vh;
    gap: 2vw;
  }
  .home-video-grid .video-item{ max-width: 30%; }
  .home-video-grid .video-item p{ font-size: 1.1rem; }
}


/* nudge the home video grid slightly upward */
.home-video-grid{
  margin-top: -2vh;
}
@media (max-width: 900px){
  .home-video-grid{
    margin-top: -1.5vh;
  }
}
@media (max-width: 600px){
  .home-video-grid{
    margin-top: -1vh;
  }
}


/* === STRONG OVERRIDES: No spacing between planet rows === */
#myDataContent .md-placements [role='list']{ gap:0 !important; row-gap:0 !important; }
#myDataContent .md-pl-row{ margin:0 !important; padding:0 !important; line-height:1 !important; }
#myDataContent .md-pl-row + .md-pl-row{ margin-top:0 !important; }


/* === STRONGEST OVERRIDES: absolutely no vertical spacing between planet rows === */
#myDataContent .md-placements [role='list']{
  display: flex !important;
  flex-direction: column !important;
  gap: 0 !important;
  row-gap: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
}

#myDataContent .md-pl-row{
  display: flex !important;
  align-items: center !important;
  margin: 0 !important;
  padding: 0 !important;
  line-height: 1 !important;       /* minimal line height */
  white-space: nowrap !important;   /* prevent wrapping to new lines */
}

#myDataContent .md-pl-row *{
  margin: 0 !important;
  padding: 0 !important;
}

#myDataContent .md-pl-row img,
#myDataContent .md-pl-row video{
  display: inline-block !important;
  vertical-align: middle !important;
}
/* === END strongest overrides === */

/* === Placements panel: black background, compact rows, zoom animation === */
#myDataContent .md-placements{
  background:#000; color:#fff;
  border:1px solid rgba(255,255,255,0.12);
  border-radius:12px; padding:10px 12px;
  box-shadow:0 10px 24px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.04);
}
#myDataContent .md-placements-title{ display:none !important; } /* hide like old */
#myDataContent .md-placements [role="list"]{
  display:flex; flex-direction:column;
  gap:0 !important; row-gap:0 !important;
}
#myDataContent .md-pl-row{
  margin:0 !important; padding:0 !important;
  font-size:11px !important; line-height:1 !important;
}
#myDataContent .md-pl-row + .md-pl-row{
  margin-top:-10px !important; /* old look: леко застъпване */
}

/* Базови размери за малките икони (зодии/домове) */
#myDataContent .md-pl-row img,
#myDataContent .md-pl-row video{
  width:18px; height:18px; object-fit:contain;
  display:inline-block; vertical-align:-3px; border-radius:4px;
}

/* ГОЛЯМАТА планета вляво – (фиксира липсващата точка в .md-pl-planet) */
#myDataContent .md-pl-row .md-pl-planet{
  width:32px !important; height:32px !important; vertical-align:-5px;
}

/* CTA контейнерът долу вдясно */
#myDataContent .md-placements .md-more{ display:flex !important; justify-content:flex-end !important; }

/* Центриране на формата и колоните (както в old) */
#myDataContent .md-grid > *{ min-width:0; }
#myDataContent{ overflow:auto; }
#myDataContent .md-right{ display:flex; flex-direction:column; align-items:center; gap:8px; }
#myDataContent .md-right .md-form{ width:100%; max-width:560px; margin:0 auto; }
#myDataContent .md-middle{ display:flex; align-items:stretch; justify-content:center; }
#myDataContent .md-middle .md-placements{ width:100%; max-width:640px; margin:0 auto; max-height:min(72vh,780px); }

/* Анимация при появяване (както в old) */
@keyframes md-zoom-in{ 0%{opacity:0; transform:scale(.92);} 100%{opacity:1; transform:scale(1);} }
#myDataContent .md-pl-row.zoom{ animation: md-zoom-in .36s ease-out both; animation-delay: var(--delay, 0s); }


/* === PATCH: pause credits scroll on hover; zoomable charts on dblclick === */
#aspectCredits:hover .credits-track{
  animation-play-state: paused;
}

#natalDropImg,
#mdChart{
  transition: transform .18s ease, box-shadow .18s ease;
  transform-origin: center center;
  cursor: zoom-in;
}

#natalDropImg.zoomed,
#mdChart.zoomed{
  cursor: zoom-out;
  box-shadow: 0 20px 40px rgba(0,0,0,.35);
}


/* === PATCH v2: centered fixed zoom and body scroll lock === */
body.has-zoom { overflow: hidden; }

#natalDropImg.zoomed,
#mdChart.zoomed{
  position: fixed !important;
  top: 50% !important;
  left: 50% !important;
  max-width: 90vw !important;
  max-height: 90vh !important;
  margin: 0 !important;
}


/* === PATCH v3: viewport-centered overlay zoom === */
#zoomOverlay{
  position: fixed;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  background: rgba(0,0,0,.55);
  z-index: 2147483000; /* above everything */
}
#zoomOverlay.show{ display:flex; }
#zoomOverlay img{
  max-width: 90vw;
  max-height: 90vh;
  transition: transform .18s ease;
  cursor: zoom-out;
}
/* keep scroll lock */
body.has-zoom { overflow: hidden; }



/* === Astro Credits row (at top of avatar menu) === */
#profileMenu .pmenu-item.credits-row{
  cursor: default;
  justify-content: flex-start;
  font-weight: 800;
}
#profileMenu .pmenu-item.credits-row:hover,
#profileMenu .pmenu-item.credits-row:focus{
  background: transparent;
}
#profileMenu .credits-amount{
  font-variant-numeric: tabular-nums;
  padding: 4px 8px;
  border-radius: 10px;
  background: rgba(255,255,255,0.10);
  line-height: 1;
}
@media (prefers-color-scheme: light){
  #profileMenu .credits-amount{ background: rgba(0,0,0,0.06); }
}
#profileMenu #menuCreditsRow .pmenu-icon{
  width: 36px;
  height: 36px;
  flex: 0 0 36px; /* за да не се „смачка“ във flex реда */
}

/* Welcome modal: bigger Yes/No buttons + spacing */
#welcomeModal #btnNo,
#welcomeModal #btnYes{
  width: 180px;   /* 2.5 × 72px */
  height: 180px;  /* 2.5 × 72px */
  align-items: center;
}

#welcomeModal #btnNo img,
#welcomeModal #btnYes img{
  width: 120px;
    object-fit: cover;        /* запълва бутона красиво */
   transform: translateX(-60px); /* премести ~8px вляво *//* леко вляво (по желание 40–48%) */
  align-items: center;

}

#welcomeModal .choice-row{
  gap: 120px;      /* разстояние между бутоните */
}

/* (по желание) по-малки на много тесни екрани */
@media (max-width: 420px){
  #welcomeModal #btnNo,
  #welcomeModal #btnYes{ width: 150px; height: 150px; }
  #welcomeModal .choice-row{ gap: 100px; }
  #welcomeModal #btnYes img{ transform: translateX(-30px);} 
}

#welcomeModal .modal-content{
  display: flex;
  flex-direction: column;
  justify-content: center; /* вертикално центриране */
  align-items: center;     /* хоризонтално центриране */
  text-align: center;
}

#welcomeModal .choice-row{
  justify-content: center; /* хоризонтално центриране на реда с бутони */
  margin: 12px auto 0;     /* държи реда в средата */
  width: fit-content;
}
